webpackJsonp([2],{111:function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(33),i=a(c),u=n(61),s=a(u),f=n(62),d=a(f),p=n(42),m=a(p),g=n(63),y=a(g),h=n(17),v=a(h),b=n(43),E=a(b),x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(45),n(64),n(65),n(46),n(66),n(242),n(47);var k=n(0),w=a(k);n(112);var T=E.default.Content,_=function(e){var t=e.type,n=e.text;return w.default.createElement("span",null,w.default.createElement(v.default,{type:t,style:{marginRight:8}}),n)},N=function(t){function n(e){l(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={chapterList:[],size:20,loading:!0,headTitle:"掘金文章",pageNo:1,allFlag:!0},t.ajaxFlag=!0,t}return r(n,t),j(n,[{key:"componentWillMount",value:function(){document.title=this.state.headTitle,this.getAjaxList()}},{key:"componentDidMount",value:function(){var t=this;e(window).on("scroll",function(){t.getScrollTop()+window.screen.height>=e("#loadBtn")[0].offsetTop&&t.getAjaxList()})}},{key:"componentWillUnmount",value:function(){this.ajaxFlag=!1}},{key:"getScrollTop",value:function(){var e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e}},{key:"getAjaxList",value:function(){var t=this,n=t.state.pageNo||1,a=n+1;this.ajaxFlag=!0,t.setState({loading:!0},function(){e.ajax({url:"/queryList",type:"get",data:{type:"csdn",pageNo:n,size:t.state.size},dataType:"jsonp",jsonp:"callback",callback:"jsonpcallback"+(new Date).getTime()}).done(function(n){if(n&&"object"==(void 0===n?"undefined":x(n))){if(t.ajaxFlag){if(!n.result||0==n.result.length)return void t.setState({loading:!1,allFlag:!1},function(){e(window).off("scroll")});t.setState({chapterList:t.state.chapterList.concat(n.result||[]),loading:!1,allFlag:!0,pageNo:a},function(){y.default.success("请求成功！！！",2)})}}else y.default.error("请求失败！！！",2)}).fail(function(e){y.default.error("请求失败！！！",2)})})}},{key:"loadMoreDom",value:function(){var e=this;return!e.state.loading&&e.state.chapterList.length>0&&e.state.allFlag?w.default.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},w.default.createElement(m.default,{id:"loadBtn"},"loading ...")):!e.state.allFlag&&e.state.chapterList.length>0?w.default.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},"全部加载完毕..."):void 0}},{key:"render",value:function(){var e=this,t=e.state.chapterList;return w.default.createElement("div",{className:"cmr-home"},w.default.createElement("div",{className:"cmrlog-main",ref:"main"},w.default.createElement(E.default,null,w.default.createElement(T,null,w.default.createElement("div",{className:"content-info"},w.default.createElement(s.default,{itemLayout:"vertical",size:"large",dataSource:t,footer:e.loadMoreDom(),renderItem:function(e,t){return w.default.createElement(s.default.Item,{key:e.csdnTitle.replace(/amp;/g,"").replace(/&mdash;/g,"—"),actions:[w.default.createElement("a",{target:"_blank",href:e.csdnUserUrl},w.default.createElement(_,{type:"user",text:e.csdnNickName})),w.default.createElement(_,{type:"like-o",text:e.csdnViews}),w.default.createElement(_,{type:"message",text:e.csdnComments}),w.default.createElement(_,{type:"history",text:e.csdnCreateDate}),e.csdnTags&&w.default.createElement(_,{type:"tag",text:e.csdnTags})]},w.default.createElement(s.default.Item.Meta,{avatar:w.default.createElement(d.default,{src:e.csdnAvtar,alt:e.csdnNickName}),title:w.default.createElement("a",{target:"_blank",href:e.csdnBlogUrl},e.csdnTitle.replace(/amp;/g,"").replace(/&mdash;/g,"—")),description:e.csdnChapterDesc}))}}))))),w.default.createElement(i.default,null))}}]),n}(w.default.Component);t.default=N}).call(t,n(60))},112:function(e,t){},242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),l=(n.n(a),n(243));n.n(l)},243:function(e,t,n){var a=n(92);"string"==typeof a&&(a=[[e.i,a,""]]);var l={hmr:!0};l.transform=void 0;var o=n(10)(a,l);a.locals&&(e.exports=a.locals),a.locals||e.hot.accept(92,function(){var t=n(92);"string"==typeof t&&(t=[[e.i,t,""]]),o(t)}),e.hot.dispose(function(){o()})},287:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var l=n(0),o=a(l),r=n(7),c=a(r),i=n(111),u=a(i);n(288),c.default.render(o.default.createElement("div",{className:"page"},o.default.createElement(u.default,null)),document.getElementById("page"))},288:function(e,t){},92:function(e,t,n){t=e.exports=n(9)(void 0),t.push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n",""])}},[287]);